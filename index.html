<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twitch 直播</title>
    <script src="https://embed.twitch.tv/embed/v1.js"></script>
</head>
<body>

    <h2>正在观看 Twitch 直播2:</h2>
    <div id="twitch-player"></div>

    <script>
        // 自动检测当前域名 (用于 Twitch parent 参数)
        const currentDomain = window.location.hostname;

        // 获取 URL 参数中的 Twitch 频道 (默认 'twitch')
        const urlParams = new URLSearchParams(window.location.search);
        const channel = urlParams.get('channel') || 'twitch';

        // 嵌入 Twitch 播放器 (不包含聊天窗口)
        new Twitch.Embed("twitch-player", {
            width: "720",
            height: "480",
            channel: channel,
            parent: [currentDomain], // 自动检测域名
            autoplay: true
        });
    </script>

</body>
</html>
